(this["webpackJsonpfe-boiler-blade"]=this["webpackJsonpfe-boiler-blade"]||[]).push([[0],{144:function(t,e,n){},165:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(21),o=n.n(c),u=n(28),i=n(111),s=n(167),l=n(75),f=n(8),p=n(36),d=(n(143),n(144),function(t){t&&t instanceof Function&&n.e(6).then(n.bind(null,177)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),r(t),a(t),c(t),o(t)}))}),h=n(52),b=n(53),O=n(132),g=n(34),j=n(7);var m=function(t){var e=t.children,n=Object(O.a)(t,["children"]),r=Object(u.e)(g.b);return Object(j.jsx)(f.b,Object(b.a)(Object(b.a)({},n),{},{render:function(t){var n=t.location;return r?e:Object(j.jsx)(f.a,{to:{pathname:"/".concat(p.a.LOGIN),state:{from:n}}})}}))},v=function(t){var e=t.children;return Object(j.jsx)("div",{children:e})};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(u.a,{store:h.a,children:Object(j.jsx)(i.a,{loading:Object(j.jsx)(s.a,{}),persistor:h.b,children:Object(j.jsx)(v,{children:Object(j.jsx)(l.a,{children:Object(j.jsxs)(f.d,{children:[p.c.map((function(t){return Object(j.jsx)(f.b,{exact:!0,path:t.path,children:Object(j.jsx)(t.Com,{})},t.path)})),p.b.map((function(t){return Object(j.jsx)(m,{exact:!0,path:t.path,children:Object(j.jsx)(t.Com,{})},t.path)})),Object(j.jsx)(f.a,{to:"/404"})]})})})})})}),document.getElementById("root")),d()},32:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r="access_token",a="refresh_token"},34:function(t,e,n){"use strict";n.d(e,"c",(function(){return E})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return T}));var r=n(20),a=n.n(r),c=n(29),o=n(41),u=n(128),i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Th\xf4ng b\xe1o";u.a[t]({message:n,description:e,duration:3,style:{marinTop:"56px"}})},s=n(51),l=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.response)return e&&i("error",Object(s.get)(t,"response.data.msg","Request l\u1ed7i")),{msg:Object(s.get)(t,"response.data.msg","Request l\u1ed7i"),status:Object(s.get)(t,"response.status"),header:Object(s.get)(t,"response.headers")};t.request?console.log(t.request):(console.log("Error",t.message),i("error",t.message))},f=function(t){t.loading=!1,t.hasErrors=!1},p=n(37),d=function(t){return p.a.post("login",t)},h=n(32),b=(n(36),Object(o.b)({name:"app_state",initialState:{},reducers:{loginRequest:function(t,e){e.payload;!function(t){t.loading=!0,t.hasErrors=!1}(t),t.isLogin=!1},loginSuccess:function(t,e){var n=e.payload;f(t),t.isLogin=!0,t.userrole=n.userrole},loginFail:function(t,e){e.payload;!function(t){t.loading=!1,t.hasErrors=!0}(t),t.isLogin=!1},logout:function(t){f(t),t.isLogin=!1}}})),O=b.actions,g=O.loginRequest,j=O.loginSuccess,m=O.loginFail,v=O.logout,E=function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(g()),e.next=4,d(t);case 4:return r=e.sent,c=r.data,e.next=8,n(j(c));case 8:return localStorage.setItem(h.a,c.access_token),localStorage.setItem(h.b,c.refresh_token),i("success",c.msg),e.abrupt("return",1);case 14:return e.prev=14,e.t0=e.catch(0),l(e.t0),n(m()),e.abrupt("return",0);case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e(v()),localStorage.clear(),t.abrupt("return",1);case 6:return t.prev=6,t.t0=t.catch(0),l(t.t0),e(m()),t.abrupt("return",0);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},T=function(t){return console.log(t,"ddd"),t.app.isLogin};e.a=b.reducer},36:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return p}));var r=n(53),a=n(0),c=n(167),o=n(7),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.fallback,u=void 0===n?Object(o.jsx)(c.a,{}):n;try{var i=Object(a.lazy)(t);return function(t){return Object(o.jsx)(a.Suspense,{fallback:u,children:Object(o.jsx)(i,Object(r.a)({},t))})}}catch(s){return Object(o.jsx)("div",{children:"notfound"})}},i=u((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,179))})),s=u((function(){return n.e(4).then(n.bind(null,176))})),l={LOGIN:"login",SETTING:"setting",WELCOME:"welcome",HOME:"",MONITORING:"monitoring",MACHINING:"machining",PRODUCTION_IMPLEMENTATION:"production-implementation",PRODUCTION:{IMPLEMENTATION:"production-implementation",PLAN:"production-plan"},MAINTENANCE:"maintenance",ANALYTICS:"analytics",ACCOUNT:"account",PROFILE:"profile",ABOUT:"about",SETTINGS:{SETTING_PRODUCT:"setting-product",GENERAL_SETTING:"general-setting"},SETTING_PRODUCT:"setting-product",GENERAL_SETTING:"general-setting",MACHINE_ANALYTIC:"analytic",PARETO:"pareto",SOFTWARE:"software",KPI:"kpi"},f=[{path:"/".concat(l.HOME),Com:s},{path:"/".concat(l.WELCOME),Com:s}],p=[{path:"/".concat(l.LOGIN),Com:i},{path:"/404",Com:function(){return Object(o.jsx)("div",{children:"2223"})}}]},37:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return b}));var r=n(20),a=n.n(r),c=n(29),o=n(80),u=n.n(o),i=n(125),s=n(32),l=n(78),f=n(52),p=n(34),d=Object(i.a)(),h=u.a.create({baseURL:l.a.BASE,timeout:25e3});h.interceptors.request.use(function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("request interceptor ==== ",e),t.next=3,localStorage.getItem(s.a);case 3:return(n=t.sent)&&(e.headers.Authorization="Bearer ".concat(n)),t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Promise.reject(t)})),h.interceptors.response.use((function(t){return t}),function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.response.config,401!==e.response.status||"refresh_token"!==n.url){t.next=4;break}return f.a.dispatch(Object(p.d)()),t.abrupt("return",Promise.reject(e));case 4:if(401!==e.response.status||n._retry){t.next=10;break}return n._retry=!0,t.next=8,localStorage.getItem(s.b);case 8:return r=t.sent,t.abrupt("return",u()({method:"POST",headers:{Authorization:"Bearer ".concat(r)},url:l.a.REFRESH_TOKEN,data:{refresh_token:r}}).then(function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.status){t.next=5;break}return t.next=3,localStorage.setItem(s.a,e.data.access_token);case 3:return h.defaults.headers.common.Authorization="Bearer ".concat(e.data.access_token),t.abrupt("return",h(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 10:return t.abrupt("return",Promise.reject(e));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var b={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h({method:"get",url:t,params:e}).then((function(t){return t})).catch((function(t){throw t}))},post:function(t,e){return h({method:"post",url:t,data:e}).then((function(t){return t})).catch((function(t){throw t}))},delete:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return h({method:"delete",url:t,data:e,headers:n}).then((function(t){return t})).catch((function(t){throw t}))},put:function(t,e){return h({method:"put",url:t,data:e}).then((function(t){return t})).catch((function(t){throw t}))},patch:function(t,e){return h({method:"patch",url:t,data:e}).then((function(t){return t})).catch((function(t){throw t}))}}},52:function(t,e,n){"use strict";n.d(e,"b",(function(){return g}));var r=n(130),a=n(16),c=n(41),o=n(114),u=n.n(o),i=n(22),s=n(129),l=n(37),f=Object(c.b)({name:"home",initialState:{},reducers:{login:function(t,e){e.payload;t.isLogin=!0}}}).reducer,p=n(34),d=Object(a.b)({router:Object(s.a)(l.b),home:f,app:p.a}),h={key:"root",storage:u.a,version:1},b=Object(i.g)(h,d),O=Object(c.a)({reducer:b,middleware:function(t){return Object(r.a)(t({serializableCheck:{ignoredActions:[i.a,i.f,i.b,i.c,i.d,i.e]}}))}}),g=Object(i.h)(O);e.a=O},78:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r="13.229.146.39",a={BASE:"http://".concat(r,":5005"),BASE_MQTT:"http://".concat(r,":9001/mqtt"),REFRESH_TOKEN:"http://".concat(r,":5005/refresh_token"),DOWNLOAD:"https://".concat(r,"/export/template")}}},[[165,1,2]]]);
//# sourceMappingURL=main.f30417ff.chunk.js.map